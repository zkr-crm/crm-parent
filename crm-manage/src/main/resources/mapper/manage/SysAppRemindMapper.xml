<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.com.zsyk.crm.manage.mapper.SysAppRemindMapper">
	<resultMap id="BaseResultMap" type="cn.com.zsyk.crm.manage.entity.SysAppRemind">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="remind_id" property="remindId" jdbcType="VARCHAR" />
		<result column="send_user" property="sendUser" jdbcType="VARCHAR" />
		<result column="receiv_user" property="receivUser" jdbcType="VARCHAR" />
		<result column="send_time" property="sendTime" jdbcType="TIMESTAMP" />
		<result column="remind_title" property="remindTitle" jdbcType="VARCHAR" />
		<result column="remind_content" property="remindContent" jdbcType="VARCHAR" />
		<result column="is_read" property="isRead" jdbcType="VARCHAR" />
		<result column="remind_level" property="remindLevel" jdbcType="VARCHAR" />
		<result column="remind_type" property="remindType" jdbcType="VARCHAR" />
		<result column="remind_stat" property="remindStat" jdbcType="VARCHAR" />
		<result column="create_date" property="createDate" jdbcType="VARCHAR" />
		<result column="create_time" property="createTime" jdbcType="VARCHAR" />
		<result column="create_user" property="createUser" jdbcType="VARCHAR" />
		<result column="update_date" property="updateDate" jdbcType="VARCHAR" />
		<result column="update_time" property="updateTime" jdbcType="VARCHAR" />
		<result column="update_user" property="updateUser" jdbcType="VARCHAR" />
		<result column="time_stamp" property="timeStamp" jdbcType="TIMESTAMP" />
	</resultMap>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from sys_app_remind
		where remind_id = #{remindId,jdbcType=VARCHAR}
	</delete>
	<insert id="insert" parameterType="cn.com.zsyk.crm.manage.entity.SysAppRemind">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into sys_app_remind (remind_id, send_user, receiv_user,
		send_time, remind_title, remind_content,
		is_read, remind_level, remind_type,
		remind_stat, create_date, create_time,
		create_user, update_date, update_time,
		update_user, time_stamp)
		values (#{remindId,jdbcType=VARCHAR}, #{sendUser,jdbcType=VARCHAR},
		#{receivUser,jdbcType=VARCHAR},
		#{sendTime,jdbcType=TIMESTAMP}, #{remindTitle,jdbcType=VARCHAR}, #{remindContent,jdbcType=VARCHAR},
		#{isRead,jdbcType=VARCHAR}, #{remindLevel,jdbcType=VARCHAR},
		#{remindType,jdbcType=VARCHAR},
		#{remindStat,jdbcType=VARCHAR}, #{createDate,jdbcType=VARCHAR}, #{createTime,jdbcType=VARCHAR},
		#{createUser,jdbcType=VARCHAR}, #{updateDate,jdbcType=VARCHAR},
		#{updateTime,jdbcType=VARCHAR},
		#{updateUser,jdbcType=VARCHAR}, #{timeStamp,jdbcType=TIMESTAMP})
	</insert>
	<update id="updateByPrimaryKey" parameterType="cn.com.zsyk.crm.manage.entity.SysAppRemind">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update sys_app_remind
		set send_user = #{sendUser,jdbcType=VARCHAR},
		receiv_user = #{receivUser,jdbcType=VARCHAR},
		send_time = #{sendTime,jdbcType=TIMESTAMP},
		remind_title = #{remindTitle,jdbcType=VARCHAR},
		remind_content = #{remindContent,jdbcType=VARCHAR},
		is_read = #{isRead,jdbcType=VARCHAR},
		remind_level = #{remindLevel,jdbcType=VARCHAR},
		remind_type = #{remindType,jdbcType=VARCHAR},
		remind_stat = #{remindStat,jdbcType=VARCHAR},
		create_date = #{createDate,jdbcType=VARCHAR},
		create_time = #{createTime,jdbcType=VARCHAR},
		create_user = #{createUser,jdbcType=VARCHAR},
		update_date = #{updateDate,jdbcType=VARCHAR},
		update_time = #{updateTime,jdbcType=VARCHAR},
		update_user = #{updateUser,jdbcType=VARCHAR},
		time_stamp = #{timeStamp,jdbcType=TIMESTAMP}
		where remind_id = #{remindId,jdbcType=VARCHAR}
	</update>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select remind_id, send_user, receiv_user, send_time, remind_title,
		remind_content,
		is_read, remind_level, remind_type, remind_stat, create_date, create_time,
		create_user,
		update_date, update_time, update_user, time_stamp
		from sys_app_remind
		where remind_id = #{remindId,jdbcType=VARCHAR}
	</select>
	<select id="selectAll" resultMap="BaseResultMap">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select remind_id, send_user, receiv_user, send_time, remind_title,
		remind_content,
		is_read, remind_level, remind_type, remind_stat, create_date, create_time,
		create_user,
		update_date, update_time, update_user, time_stamp
		from sys_app_remind
	</select>
	<!-- 根据条件查询站内提醒 -->
	<select id="selectByEntity" parameterType="cn.com.zsyk.crm.manage.entity.SysAppRemind" resultMap="BaseResultMap">
		select remind_id, send_user, receiv_user, send_time, remind_title,
		remind_content,
		is_read, remind_level, remind_type, remind_stat
		from sys_app_remind
		where 1=1
		<if test="isRead != null and isRead != '' ">
			and is_read = #{isRead}
		</if>
		<if test="remindTitle != null and remindTitle != '' ">
			and remind_title like CONCAT(CONCAT('%',#{remindTitle,jdbcType=VARCHAR}),'%')
		</if>
		<if test="receivUser != null and receivUser != '' ">
			and receiv_user = #{receivUser}
		</if>
		order by send_time desc,remind_level asc
	</select>
	<!-- 根据条件查询站内提醒 -->
	<select id="selectTop10ByEntity" parameterType="cn.com.zsyk.crm.manage.entity.SysAppRemind" resultMap="BaseResultMap">
		select remind_id, send_user, receiv_user, send_time, remind_title,
		remind_content,
		is_read, remind_level, remind_type, remind_stat
		from sys_app_remind
		where 1=1
		and receiv_user=#{receivUser,jdbcType=VARCHAR}
		<if test="remindId != null and remindId != '' ">
			and remind_id = #{remindId}
		</if>
		and is_read ='0'
		order by send_time desc,remind_level asc limit 0,10
	</select>
	<!-- 更新消息的已读未读状态 -->
	<update id="updateIsReadStat" parameterType="map">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update sys_app_remind
		set 
		is_read = #{isRead,jdbcType=VARCHAR}
		where remind_id = #{remindId,jdbcType=VARCHAR}
	</update>
	<insert id="insertSysAppRemind" parameterType="cn.com.zsyk.crm.manage.entity.SysAppRemind" >
		INSERT INTO sys_app_Remind
		(remind_id,
		send_user,
		receiv_user,
		remind_title,
		remind_content,
		is_read,
		create_date,
		create_time,
		create_user,
		time_stamp,
		rec_stat,
		send_Time)
		VALUES
		(#{remindId},
		#{sendUser},
		#{receivUser},
		#{remindTitle},
		#{remindContent},
		#{isRead},
		#{createDate},
		#{createTime},
		#{createUser},
		sysdate,
		#{recStat},
		sysdate)
	</insert>
</mapper>