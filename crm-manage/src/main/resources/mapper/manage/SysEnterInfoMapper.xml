<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.zsyk.crm.manage.mapper.SysEnterInfoMapper">
  <resultMap id="BaseResultMap" type="cn.com.zsyk.crm.manage.entity.SysEnterInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="enter_code" jdbcType="VARCHAR" property="enterCode" />
    <result column="enter_name" jdbcType="VARCHAR" property="enterName" />
    <result column="enter_head" jdbcType="VARCHAR" property="enterHead" />
    <result column="enter_level" jdbcType="VARCHAR" property="enterLevel" />
    <result column="super_enter_code" jdbcType="VARCHAR" property="superEnterCode" />
    <result column="super_enter" jdbcType="VARCHAR" property="superEnter" />
    <result column="enter_addr" jdbcType="VARCHAR" property="enterAddr" />
    <result column="enter_tel" jdbcType="VARCHAR" property="enterTel" />
    <result column="enter_web" jdbcType="VARCHAR" property="enterWeb" />
    <result column="enter_email" jdbcType="VARCHAR" property="enterEmail" />
    <result column="busi_summ" jdbcType="VARCHAR" property="busiSumm" />
    <result column="create_date" jdbcType="VARCHAR" property="createDate" />
    <result column="create_time" jdbcType="VARCHAR" property="createTime" />
    <result column="create_user" jdbcType="VARCHAR" property="createUser" />
    <result column="update_date" jdbcType="VARCHAR" property="updateDate" />
    <result column="update_time" jdbcType="VARCHAR" property="updateTime" />
    <result column="update_user" jdbcType="VARCHAR" property="updateUser" />
    <result column="time_stamp" jdbcType="VARCHAR" property="timeStamp" />
    <result column="rec_stat" jdbcType="VARCHAR" property="recStat" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from sys_enter_info
    where enter_code = #{enterCode,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="cn.com.zsyk.crm.manage.entity.SysEnterInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into sys_enter_info (enter_code, enter_name, enter_head,enter_level, 
      super_enter_code, super_enter, enter_addr, 
      enter_tel, enter_web, enter_email, 
      busi_summ, create_date, create_time, 
      create_user, update_date, update_time, 
      update_user, time_stamp, rec_stat
      )
    values (#{enterCode,jdbcType=VARCHAR}, #{enterName,jdbcType=VARCHAR}, #{enterHead,jdbcType=VARCHAR}, 
      #{enterLevel,jdbcType=VARCHAR},
      #{superEnterCode,jdbcType=VARCHAR}, #{superEnter,jdbcType=VARCHAR}, #{enterAddr,jdbcType=VARCHAR}, 
      #{enterTel,jdbcType=VARCHAR}, #{enterWeb,jdbcType=VARCHAR}, #{enterEmail,jdbcType=VARCHAR}, 
      #{busiSumm,jdbcType=VARCHAR}, #{createDate,jdbcType=VARCHAR}, #{createTime,jdbcType=VARCHAR}, 
      #{createUser,jdbcType=VARCHAR}, #{updateDate,jdbcType=VARCHAR}, #{updateTime,jdbcType=VARCHAR}, 
      #{updateUser,jdbcType=VARCHAR}, #{timeStamp,jdbcType=TIMESTAMP}, #{recStat,jdbcType=VARCHAR}
      )
  </insert>
  <update id="updateByPrimaryKey" parameterType="cn.com.zsyk.crm.manage.entity.SysEnterInfo">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update sys_enter_info
    set enter_name = #{enterName,jdbcType=VARCHAR},
      enter_head = #{enterHead,jdbcType=VARCHAR},
      enter_level = #{enterLevel,jdbcType=VARCHAR},
      super_enter_code = #{superEnterCode,jdbcType=VARCHAR},
      super_enter = #{superEnter,jdbcType=VARCHAR},
      enter_addr = #{enterAddr,jdbcType=VARCHAR},
      enter_tel = #{enterTel,jdbcType=VARCHAR},
      enter_web = #{enterWeb,jdbcType=VARCHAR},
      enter_email = #{enterEmail,jdbcType=VARCHAR},
      busi_summ = #{busiSumm,jdbcType=VARCHAR},
      create_date = #{createDate,jdbcType=VARCHAR},
      create_time = #{createTime,jdbcType=VARCHAR},
      create_user = #{createUser,jdbcType=VARCHAR},
      update_date = #{updateDate,jdbcType=VARCHAR},
      update_time = #{updateTime,jdbcType=VARCHAR},
      update_user = #{updateUser,jdbcType=VARCHAR},
      time_stamp = #{timeStamp,jdbcType=TIMESTAMP},
      rec_stat = #{recStat,jdbcType=VARCHAR}
    where enter_code = #{enterCode,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select enter_code, enter_name, enter_head,enter_level, super_enter_code, super_enter, enter_addr, 
    enter_tel, enter_web, enter_email, busi_summ, create_date, create_time, create_user, 
    update_date, update_time, update_user, time_stamp, rec_stat
    from sys_enter_info
    where enter_code = #{enterCode,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select enter_code, enter_name, enter_head,enter_level, super_enter_code, super_enter, enter_addr, 
    enter_tel, enter_web, enter_email, busi_summ, create_date, create_time, create_user, 
    update_date, update_time, update_user, time_stamp, rec_stat
    from sys_enter_info
  </select>
  
 <!-- 根据表实体查询企业信息表 -->
  <select id="selectByEntity" parameterType="cn.com.zsyk.crm.manage.entity.SysEnterInfo" resultMap="BaseResultMap">

    select enter_code, enter_name, enter_head,enter_level, super_enter_code, super_enter, enter_addr, 
    enter_tel, enter_web, enter_email, busi_summ
    from sys_enter_info where 1=1  
    <if test="enterName != null and enterName != ''">
        and enter_name like '%${enterName}%'  
    </if>
    <if test="enterCode != null and enterCode != ''">
        and enter_code like '%${enterCode}%'  
    </if>
    <if test="enterHead != null and enterHead != ''">
        and enter_head like '%${enterHead}%'
    </if>
    <if test="superEnter != null and superEnter != ''">
        and super_enter like '%${superEnter}%'
    </if>
    <if test="enterAddr != null and enterAddr != ''">
        and enter_addr like '%${enterAddr}%'
    </if>
    <if test="enterTel != null and enterTel != ''">
        and enter_tel like '%${enterTel}%'
    </if>
    <if test="enterWeb != null and enterWeb != ''">
        and enter_web like '%${enterWeb}%'
    </if>
    <if test="enterEmail != null and enterEmail != ''">
        and enter_email like '%${enterEmail}%'
    </if>
    <if test="busiSumm != null and busiSumm != ''">
        and busi_summ like '%${busiSumm}%'
    </if>
    <if test="recStat != null and recStat != ''">
        and rec_stat = #{recStat}   
    </if>
  </select>
  
  <!-- 获取直接机构下级机构信息（间接下级不获取）-->  
  <select id="getUnderEnter" resultMap="BaseResultMap">
    select enter_code, enter_name, enter_head,enter_level, super_enter_code, super_enter, enter_addr, 
    enter_tel, enter_web, enter_email, busi_summ
    from sys_enter_info
    where super_enter_code = #{enterCode,jdbcType=VARCHAR}
  </select>
  <!-- 获取机构下级机构信息-->
  <select id="getUnderEnterAll" resultMap="BaseResultMap">
    select enter_code, enter_name, enter_head,enter_level, super_enter_code, super_enter, enter_addr,
    enter_tel, enter_web, enter_email, busi_summ
    from sys_enter_info start with enter_code = #{enterCode,jdbcType=VARCHAR}
    CONNECT BY  super_enter_code = PRIOR  enter_code
    order by super_enter_code,enter_code
  </select>
  <!-- 获取所有机构信息（排序）-->  
  <select id="getAllEntersOnOrder" resultMap="BaseResultMap">
    select enter_code, enter_name, enter_head,enter_level, super_enter_code, super_enter, enter_addr, 
    enter_tel, enter_web, enter_email, busi_summ
    from sys_enter_info
    where 1=1
    order by super_enter_code,enter_code
  </select>
  
  <!-- 获取所有顶级机构信息（排序）-->  
  <select id="getAllSuperEnter" resultMap="BaseResultMap">
    select enter_code, enter_name, enter_head,enter_level, super_enter_code, super_enter, enter_addr, 
    enter_tel, enter_web, enter_email, busi_summ
    from sys_enter_info
    where super_enter_code=''
    order by enter_code
  </select>
</mapper>