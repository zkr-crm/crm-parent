<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.com.zsyk.crm.manage.mapper.SysRuleTypeMapper">
  <resultMap id="BaseResultMap" type="cn.com.zsyk.crm.manage.entity.SysRuleType">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="table_code" jdbcType="VARCHAR" property="tableCode" />
    <id column="field_code" jdbcType="VARCHAR" property="fieldCode" />
    <id column="rule_code" jdbcType="VARCHAR" property="ruleCode" />
    <result column="create_date" jdbcType="VARCHAR" property="createDate" />
    <result column="create_time" jdbcType="VARCHAR" property="createTime" />
    <result column="create_user" jdbcType="VARCHAR" property="createUser" />
    <result column="update_date" jdbcType="VARCHAR" property="updateDate" />
    <result column="update_time" jdbcType="VARCHAR" property="updateTime" />
    <result column="update_user" jdbcType="VARCHAR" property="updateUser" />
    <result column="time_stamp" jdbcType="TIMESTAMP" property="timeStamp" />
    <result column="rec_stat" jdbcType="VARCHAR" property="recStat" />
  </resultMap>
  
    <resultMap id="RuleTypeResultMap" type="cn.com.zsyk.crm.manage.bom.SysRuleTypeBean">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="table_code" jdbcType="VARCHAR" property="tableCode" />
    <id column="field_code" jdbcType="VARCHAR" property="fieldCode" />
    <id column="rule_code" jdbcType="VARCHAR" property="ruleCode" />
    <result column="rule_name" jdbcType="VARCHAR" property="ruleName" />
    <result column="rule_symbol" jdbcType="VARCHAR" property="ruleSymbol" />
    <result column="create_date" jdbcType="VARCHAR" property="createDate" />
    <result column="create_time" jdbcType="VARCHAR" property="createTime" />
    <result column="create_user" jdbcType="VARCHAR" property="createUser" />
    <result column="update_date" jdbcType="VARCHAR" property="updateDate" />
    <result column="update_time" jdbcType="VARCHAR" property="updateTime" />
    <result column="update_user" jdbcType="VARCHAR" property="updateUser" />
    <result column="time_stamp" jdbcType="TIMESTAMP" property="timeStamp" />
    <result column="rec_stat" jdbcType="VARCHAR" property="recStat" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from sys_rule_type
    where table_code = #{tableCode,jdbcType=VARCHAR}
      and field_code = #{fieldCode,jdbcType=VARCHAR}
      and rule_code = #{ruleCode,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="cn.com.zsyk.crm.manage.entity.SysRuleType">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into sys_rule_type (table_code, field_code, rule_code, 
      create_date, create_time, create_user, 
      update_date, update_time, update_user, 
      time_stamp, rec_stat)
    values (#{tableCode,jdbcType=VARCHAR}, #{fieldCode,jdbcType=VARCHAR}, #{ruleCode,jdbcType=VARCHAR}, 
      #{createDate,jdbcType=VARCHAR}, #{createTime,jdbcType=VARCHAR}, #{createUser,jdbcType=VARCHAR}, 
      #{updateDate,jdbcType=VARCHAR}, #{updateTime,jdbcType=VARCHAR}, #{updateUser,jdbcType=VARCHAR}, 
      #{timeStamp,jdbcType=TIMESTAMP}, #{recStat,jdbcType=VARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="cn.com.zsyk.crm.manage.entity.SysRuleType">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update sys_rule_type
    set create_date = #{createDate,jdbcType=VARCHAR},
      create_time = #{createTime,jdbcType=VARCHAR},
      create_user = #{createUser,jdbcType=VARCHAR},
      update_date = #{updateDate,jdbcType=VARCHAR},
      update_time = #{updateTime,jdbcType=VARCHAR},
      update_user = #{updateUser,jdbcType=VARCHAR},
      time_stamp = #{timeStamp,jdbcType=TIMESTAMP},
      rec_stat = #{recStat,jdbcType=VARCHAR}
    where table_code = #{tableCode,jdbcType=VARCHAR}
      and field_code = #{fieldCode,jdbcType=VARCHAR}
      and rule_code = #{ruleCode,jdbcType=VARCHAR}
  </update>
  <select id="selectByPrimaryKey" parameterType="map" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select table_code, field_code, rule_code, create_date, create_time, create_user, 
    update_date, update_time, update_user, time_stamp, rec_stat
    from sys_rule_type
    where table_code = #{tableCode,jdbcType=VARCHAR}
      and field_code = #{fieldCode,jdbcType=VARCHAR}
      and rule_code = #{ruleCode,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select table_code, field_code, rule_code, create_date, create_time, create_user, 
    update_date, update_time, update_user, time_stamp, rec_stat
    from sys_rule_type
  </select>
  
    <select id="selectByEntity" parameterType="cn.com.zsyk.crm.manage.entity.SysRuleType" resultMap="BaseResultMap">
    select table_code, field_code, rule_code
    from sys_rule_type where 1=1
    <if test="tableCode != null and tableCode != ''">
        and table_code = #{tableCode}  
    </if>
    <if test="fieldCode != null and fieldCode != ''">
        and field_code = #{fieldCode}  
    </if>
    <if test="ruleCode != null and ruleCode != ''">
        and rule_code = #{ruleCode}  
    </if>
  </select>
  
  <select id="selectRuleType" parameterType="cn.com.zsyk.crm.manage.entity.SysRuleType" resultMap="RuleTypeResultMap">
    select t1.table_code, t1.field_code, t1.rule_code,t2.rule_name,t2.rule_symbol
    from sys_rule_type t1,sys_data_rule t2 where 1=1
    and t1.rule_code=t2.rule_code
    <if test="tableCode != null and tableCode != ''">
        and t1.table_code = #{tableCode}  
    </if>
    <if test="fieldCode != null and fieldCode != ''">
        and t1.field_code = #{fieldCode}  
    </if>
    <if test="ruleCode != null and ruleCode != ''">
        and t1.rule_code = #{ruleCode}  
    </if>
  </select>
</mapper>