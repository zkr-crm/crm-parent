<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.com.zsyk.crm.supply.mapper.SysSmsSendGroupMapper" >
  <resultMap id="BaseResultMap" type="cn.com.zsyk.crm.supply.entity.SysSmsSendGroup" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="MSG_ID" property="msgId" jdbcType="DECIMAL" />
    <result column="MSG_CODE" property="msgCode" jdbcType="VARCHAR" />
    <result column="MSG_TOPIC" property="msgTopic" jdbcType="VARCHAR" />
    <result column="SEND_OBJ" property="sendObj" jdbcType="VARCHAR" />
    <result column="BIZ_NO" property="bizNo" jdbcType="VARCHAR" />
    <result column="RESEND_TIMES" property="resendTimes" jdbcType="DECIMAL" />
    <result column="SEND_NUM" property="sendNum" jdbcType="DECIMAL" />
    <result column="NUM_SUCC" property="numSucc" jdbcType="DECIMAL" />
    <result column="NUM_FAIL" property="numFail" jdbcType="DECIMAL" />
    <result column="ENTER_CODE" property="enterCode" jdbcType="VARCHAR" />
    <result column="DEPT_CODE" property="deptCode" jdbcType="VARCHAR" />
    <result column="MSG_STAT" property="msgStat" jdbcType="VARCHAR" />
    <result column="SEND_TIME" property="sendTime" jdbcType="TIMESTAMP" />
    <result column="FAIL_REASON" property="failReason" jdbcType="VARCHAR" />
    <result column="CREATE_DATE" property="createDate" jdbcType="VARCHAR" />
    <result column="CREATE_TIME" property="createTime" jdbcType="VARCHAR" />
    <result column="CREATE_USER" property="createUser" jdbcType="VARCHAR" />
    <result column="UPDATE_DATE" property="updateDate" jdbcType="VARCHAR" />
    <result column="UPDATE_TIME" property="updateTime" jdbcType="VARCHAR" />
    <result column="UPDATE_USER" property="updateUser" jdbcType="VARCHAR" />
    <result column="TIME_STAMP" property="timeStamp" jdbcType="VARCHAR" />
    <result column="REC_STAT" property="recStat" jdbcType="VARCHAR" />
    <result column="MSG_CONTENT" property="msgContent" jdbcType="CLOB" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.math.BigDecimal" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from SYS_SMS_SEND_GROUP
    where MSG_ID = #{msgId,jdbcType=DECIMAL}
  </delete>
  <insert id="insert" parameterType="cn.com.zsyk.crm.supply.entity.SysSmsSendGroup" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <selectKey resultType="java.math.BigDecimal" keyProperty="msgId" order="AFTER" >
      select SYS_SMS_SEND_GROUP_seq.nextval from dual
    </selectKey>
    insert into SYS_SMS_SEND_GROUP (MSG_CODE, MSG_TOPIC, SEND_OBJ, 
      BIZ_NO, RESEND_TIMES, SEND_NUM, 
      NUM_SUCC, NUM_FAIL, ENTER_CODE, 
      DEPT_CODE, MSG_STAT, SEND_TIME, 
      FAIL_REASON, CREATE_DATE, CREATE_TIME, 
      CREATE_USER, UPDATE_DATE, UPDATE_TIME, 
      UPDATE_USER, TIME_STAMP, REC_STAT, 
      MSG_CONTENT)
    values (#{msgCode,jdbcType=VARCHAR}, #{msgTopic,jdbcType=VARCHAR}, #{sendObj,jdbcType=VARCHAR}, 
      #{bizNo,jdbcType=VARCHAR}, #{resendTimes,jdbcType=DECIMAL}, #{sendNum,jdbcType=DECIMAL}, 
      #{numSucc,jdbcType=DECIMAL}, #{numFail,jdbcType=DECIMAL}, #{enterCode,jdbcType=VARCHAR}, 
      #{deptCode,jdbcType=VARCHAR}, #{msgStat,jdbcType=VARCHAR}, #{sendTime,jdbcType=TIMESTAMP}, 
      #{failReason,jdbcType=VARCHAR}, #{createDate,jdbcType=VARCHAR}, #{createTime,jdbcType=VARCHAR}, 
      #{createUser,jdbcType=VARCHAR}, #{updateDate,jdbcType=VARCHAR}, #{updateTime,jdbcType=VARCHAR}, 
      #{updateUser,jdbcType=VARCHAR}, #{timeStamp,jdbcType=VARCHAR}, #{recStat,jdbcType=VARCHAR}, 
      #{msgContent,jdbcType=CLOB})
  </insert>
  <update id="updateByPrimaryKey" parameterType="cn.com.zsyk.crm.supply.entity.SysSmsSendGroup" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update SYS_SMS_SEND_GROUP
    set MSG_CODE = #{msgCode,jdbcType=VARCHAR},
      MSG_TOPIC = #{msgTopic,jdbcType=VARCHAR},
      SEND_OBJ = #{sendObj,jdbcType=VARCHAR},
      BIZ_NO = #{bizNo,jdbcType=VARCHAR},
      RESEND_TIMES = #{resendTimes,jdbcType=DECIMAL},
      SEND_NUM = #{sendNum,jdbcType=DECIMAL},
      NUM_SUCC = #{numSucc,jdbcType=DECIMAL},
      NUM_FAIL = #{numFail,jdbcType=DECIMAL},
      ENTER_CODE = #{enterCode,jdbcType=VARCHAR},
      DEPT_CODE = #{deptCode,jdbcType=VARCHAR},
      MSG_STAT = #{msgStat,jdbcType=VARCHAR},
      SEND_TIME = #{sendTime,jdbcType=TIMESTAMP},
      FAIL_REASON = #{failReason,jdbcType=VARCHAR},
      CREATE_DATE = #{createDate,jdbcType=VARCHAR},
      CREATE_TIME = #{createTime,jdbcType=VARCHAR},
      CREATE_USER = #{createUser,jdbcType=VARCHAR},
      UPDATE_DATE = #{updateDate,jdbcType=VARCHAR},
      UPDATE_TIME = #{updateTime,jdbcType=VARCHAR},
      UPDATE_USER = #{updateUser,jdbcType=VARCHAR},
      TIME_STAMP = #{timeStamp,jdbcType=VARCHAR},
      REC_STAT = #{recStat,jdbcType=VARCHAR},
      MSG_CONTENT = #{msgContent,jdbcType=CLOB}
    where MSG_ID = #{msgId,jdbcType=DECIMAL}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.math.BigDecimal" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select MSG_ID, MSG_CODE, MSG_TOPIC, SEND_OBJ, BIZ_NO, RESEND_TIMES, SEND_NUM, NUM_SUCC, 
    NUM_FAIL, ENTER_CODE, DEPT_CODE, MSG_STAT, SEND_TIME, FAIL_REASON, CREATE_DATE, CREATE_TIME, 
    CREATE_USER, UPDATE_DATE, UPDATE_TIME, UPDATE_USER, TIME_STAMP, REC_STAT, MSG_CONTENT
    from SYS_SMS_SEND_GROUP
    where MSG_ID = #{msgId,jdbcType=DECIMAL}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select MSG_ID, MSG_CODE, MSG_TOPIC, SEND_OBJ, BIZ_NO, RESEND_TIMES, SEND_NUM, NUM_SUCC, 
    NUM_FAIL, ENTER_CODE, DEPT_CODE, MSG_STAT, SEND_TIME, FAIL_REASON, CREATE_DATE, CREATE_TIME, 
    CREATE_USER, UPDATE_DATE, UPDATE_TIME, UPDATE_USER, TIME_STAMP, REC_STAT, MSG_CONTENT
    from SYS_SMS_SEND_GROUP
  </select>
  <select id="selectPhoneByGroupId" resultType="java.util.Map" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select o.group_id as groupId, o.cust_no as custNo, c.phone_no1 as phoneNo
    from oc_cust_grp_member o,
    (select distinct (cust_no) as cust_no, phone_no1
    from ec_contact_way) c
    where o.group_id = #{groupId,jdbcType=VARCHAR}
    AND c.cust_no = o.cust_no
  </select>
</mapper>